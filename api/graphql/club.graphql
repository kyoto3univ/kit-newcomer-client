mutation createNewClub($name: String!) {
  createNewClub(name: $name) {
    id
  }
}

fragment AssetBasic on Asset {
  id
  name
  alternativeDescription
  filePath
}

fragment UserBasic on User {
  id
  name
  icon
}

fragment ClubDetail on ClubWithMembers {
  id
  name
  isPublished
  shortDescription
  longDescription
  joinDescription
  place
  schedule
  videoUrl
  contactUrl
  createdAt
  topContentType
  topImage {
    ...AssetBasic
  }
  thumbImage {
    ...AssetBasic
  }
  ...ClubMemberOnly
}

fragment ClubBasic on ClubWithMembers {
  id
  name
  shortDescription
  thumbImage {
    ...AssetBasic
  }
}

fragment ClubMemberOnly on ClubWithMembers {
  members {
    level
    user {
      ...UserInfo
    }
  }
}

query getClubDetails($id: String!) {
  club(id: $id) {
    ...ClubDetail
  }
}

mutation updateClub($id: String!, $update: UpdateClubDto!) {
  updateClub(id: $id, update: $update) {
    ...ClubDetail
  }
}

query getMyClubs {
  getMyClubs {
    club {
      ...ClubBasic
    }
  }
}
